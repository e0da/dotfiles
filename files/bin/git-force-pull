#!/bin/sh

if [ "$#" -gt 0 ]; then
  cat <<HELPTEXT
Usage: git force-pull

Fetches latest changes then hard resets your local branch to match the remote.

No options are expected or permitted. Check out the branch you wish to update
BEFORE you perform the force pull.
HELPTEXT
  exit
fi

branch=$(git branch | grep '^*' | awk '{print $2}')

set -ex

git fetch --all
git reset --hard origin/$branch
